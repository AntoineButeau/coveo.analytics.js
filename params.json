{"name":"Coveo.analytics.js","tagline":"Send events to coveo analytics service.","body":"# coveo.analytics.js\r\n\r\n[![Build Status](https://img.shields.io/travis/Coveo/coveo.analytics.js.svg?style=flat-square)](https://travis-ci.org/Coveo/coveo.analytics.js)\r\n[![Coverage Status](https://img.shields.io/coveralls/Coveo/coveo.analytics.js.svg?style=flat-square)](https://coveralls.io/r/Coveo/coveo.analytics.js)\r\n[![Code Climate](https://img.shields.io/codeclimate/github/Coveo/coveo.analytics.js.svg?style=flat-square)](https://codeclimate.com/github/Coveo/coveo.analytics.js)\r\n[![dev-dependencies](https://img.shields.io/david/dev/Coveo/coveo.analytics.js.svg?style=flat-square)](https://github.com/Coveo/coveo.analytics.js/blob/master/package.json)\r\n[![license](http://img.shields.io/badge/license-MIT-blue.svg?style=flat-square)](https://github.com/Coveo/coveo.analytics.js/blob/master/LICENSE)\r\n\r\nSend events to the Coveo Analytics service. No external dependencies, pure JavaScript solution.\r\n\r\n[Service Api Documentation](https://usageanalytics.coveo.com/docs/)\r\n\r\n# Limitations\r\n\r\n- You can't have multiple sessions running. (cookies)\r\n- Works with `IE9+` and recent versions of `Firefox/Chrome/other...`\r\n\r\n# Development\r\n\r\n```sh\r\n# install development dependencies\r\nnpm install\r\n# Check standard respects (tabs and spaces should be automatic if your editor\r\n# supports editorconfig http://editorconfig.org/)\r\nnpm run lint\r\n# Run tests automatically (open your browser on http://localhost:9876 )\r\nnpm run testlive\r\n# Wanna see other available tasks\r\n# just run:\r\nnpm run\r\n```\r\n\r\n# Usage\r\n\r\nadd script in your page:\r\n\r\n```html\r\n<script src=\"https://static.cloud.coveo.com/ua/0.1.0/coveo.analytics.min.js\"></script>\r\n```\r\n\r\nin the Browser:\r\n\r\n```js\r\n// works with or without new\r\n// the token can be retrieved by contacting Coveo Support\r\nvar ua = Coveo.UA({token: 'your-token-here'})\r\n\r\nua.sendCustomEvent({\r\n  eventType: 'Your Custom Event Type',\r\n  eventValue: 'Your Custom Event Value'  \r\n})\r\n```\r\n\r\n# API\r\n\r\n**CoveoAnalytics(options)**: instantiate a new analytics event logger\r\n\r\n```js\r\nvar options = {\r\n  token: '' // required\r\n  endpoint: '' // optional: defaults to https://usageanalytics.coveo.com/rest/v13/analytics\r\n}\r\n```\r\n\r\n**CoveoAnalytics.getStatus(callback)**: gets the status of the analytics service\r\n\r\n```js\r\n// https://usageanalytics.coveo.com/docs/#!/v13_analytics/getServiceStatus\r\nvar callback = function(data){\r\n  // Format of data: { status: '' }\r\n  console.log(data.status)\r\n}\r\n```\r\n\r\n**CoveoAnalytics.sendSearchEvent(data, callback)**: user searched something\r\n\r\n```js\r\nvar data = {/* https://usageanalytics.coveo.com/docs/#!/v13_analytics/addSearchEvent */}\r\nvar callback = function(){\r\n  console.log('logged event')\r\n}\r\n```\r\n\r\n**CoveoAnalytics.sendSearchEvents(data, callback)**: sends multiple search events\r\n\r\n```js\r\n//\r\nvar data = [/* https://usageanalytics.coveo.com/docs/#!/v13_analytics/addSearchEvents */]\r\nvar callback = function(){\r\n  console.log('logged a lot of events')\r\n}\r\n```\r\n\r\n**CoveoAnalytics.sendClickEvent(data, callback)**: user clicked on something\r\n\r\n```js\r\n// Required params are here\r\n// You can find others at: https://usageanalytics.coveo.com/docs/#!/v13_analytics/addClickEvent\r\nvar data = {\r\n  \"actionCause\":\"documentOpen\",\r\n  \"searchQueryUid\":\"dc39ef98-f06c-48f9-8c61-3425714b8fc0\",\r\n  \"documentUri\":\"http://uri.com\",\r\n  \"documentUriHash\":\"4p1+Qt7oxARhuldx\",\r\n  \"sourceName\":\"That coveo Source\",\r\n  \"documentPosition\":0,\r\n}\r\nvar callback = function(resp){\r\n  console.log('logged event with', resp)\r\n}\r\n```\r\n**CoveoAnalytics.sendCustomEvent(data, callback)**: send events other than click/search\r\n\r\n```js\r\n// Required params are here\r\n// You can find others at: https://usageanalytics.coveo.com/docs/#!/v13_analytics/addCustomEventViaPost\r\nvar data = {\r\n  eventType:  'theeventtype',\r\n  eventValue: 'eventvalue'\r\n};\r\nvar callback = function(resp){\r\n  console.log('logged event with', resp)\r\n}\r\n```\r\n\r\n**CoveoAnalytics.deleteSession()**: **this call is not yet supported (to be released soon)** clears cookies, you lose your visitor id and your current session is stopped. Next queries will get you a new one.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}